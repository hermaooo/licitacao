<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assistente Virtual de Licitacoes</title>
  <link rel="icon" href="favicon.ico" type="image/png">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <script src="https://unpkg.com/heroicons@2.1.3/24/outline/index.js"></script>

  <style>

    /* Estilo para a barra de rolagem (opcional, mas melhora a estética) */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: #383838; /* slate-600 */
      border-radius: 10px;
      border: 2px solid transparent; /* paddign ao redor do thumb */
      background-clip: content-box;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #464646; /* slate-500 */
    }

    /* Estilo específico para a barra de rolagem da textarea */
    #message-input::-webkit-scrollbar {
      width: 6px; /* Mais fina que a principal */
    }
    #message-input::-webkit-scrollbar-track {
      background: transparent; /* O fundo se mescla com o da textarea */
    }
    #message-input::-webkit-scrollbar-thumb {
      background: #383838; /* slate-600 */
      border-radius: 3px;
    }
    #message-input::-webkit-scrollbar-thumb:hover {
      background: #464646; /* slate-500 */
    }

    #message-input::-webkit-scrollbar-track-piece:end {
        background: transparent;
        margin-bottom: 25px; 
    }

    #message-input::-webkit-scrollbar-track-piece:start {
        background: transparent;
        margin-top: 25px;
    }

    .fade-in-from-bottom {
      -webkit-mask-image: linear-gradient(to top, black 60%, transparent 100%);
      mask-image: linear-gradient(to top, black 60%, transparent 100%);
    }

    #attachment-menu { 
      transition: transform 0.2s ease-out, opacity 0.2s ease-out; 
    }

    /* Transição suave para os traços internos */
    #attachment-btn svg path {
      transition: transform 0.2s ease-in-out, opacity 0.2s ease-in-out;
      transform-origin: center;
    }

    /* 2. Estado inicial (FECHADO) */
    .plus-path {
      /* O '+' começa visível e em seu tamanho normal */
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }
    .x-path {
      /* O 'X' começa invisível, encolhido e pré-rotacionado */
      opacity: 0;
      transform: scale(0) rotate(-45deg);
    }

    /* 3. Estado final (ABERTO) quando a classe .menu-open é aplicada */
    #attachment-btn.menu-open .plus-path {
      /* O '+' desaparece, encolhendo e girando */
      opacity: 0;
      transform: scale(0) rotate(45deg);
    }
    #attachment-btn.menu-open .x-path {
      /* O 'X' aparece, crescendo e girando para a posição final */
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }
    #attachment-btn.menu-open .plus-path {
      opacity: 0;
    }

    #camera-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 50;
        display: none; /* Começa escondido */
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    #camera-preview {
        max-width: 90%;
        max-height: 70%;
        border-radius: 10px;
    }
    #camera-controls {
        margin-top: 1rem;
        display: flex;
        gap: 1rem;
    }

  </style>
</head>

<body class="bg-zinc-800 text-gray-100/90 font-sans flex flex-col h-svh">

  <header class="bg-zinc-800 border-b-2 border-zinc-700 pb-2 pt-2">
    <div class="max-w-6xl mx-auto">
      <img class="float size-[32px]" src="favicon.png"><h1 class="text-x text-xl font-semibold text-gray-100/90 top-3 text-center justify-center align-center px-20 absolute inset-x-0 bottom-6 xl:bottom-8">Ajudante Licitação</h1>
    </div>
  </header>

  <main id="chat-container" class="flex-grow pt-6 pb-6 pr-4 pl-4 overflow-y-auto">
    <div class="max-w-xl w-full mx-auto space-y-6">
      <div id="welcome-view" class="text-center h-full flex flex-col justify-center items-center">
        <div class="bg-zinc-400/10 rounded-full p-4 mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-12 h-12 text-gray-100/90">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z" />
          </svg>
        </div>
        <h2 class="text-4xl font-bold text-gray-300/90">Como posso ajudar hoje?</h2>
        <p class="text-gray-500 mt-2">Envie uma mensagem para começar a conversar.</p>
      </div>
    </div>
  </main>

  <div id="camera-overlay">
      <video id="camera-preview" autoplay playsinline></video>
      <canvas id="camera-canvas" class="hidden"></canvas>
      <div id="camera-controls">
          <button id="capture-photo-btn" class="p-4 rounded-full bg-white text-gray-800">Capturar</button>
          <button id="cancel-camera-btn" class="p-4 rounded-full bg-red-500 text-white">Cancelar</button>
      </div>
  </div>

  <footer class="pb-10 bg-zinc-800 border-stone-700">

    <div class="max-w-xl mx-auto">

      <div id="attachment-preview" class="relative bg-stone-700/50 border-stone-500 rounded-xl p-2 mb-2 hidden items-center justify-between text-sm">
      </div>
      <div class="relative flex items-center bg-zinc-800 border border-zinc-700 rounded-2xl shadow-lg transition delay-75 duration-150 ease-in-out focus-within:shadow-md focus-within:shadow-yellow-600/10">
        
        <div class="relative">

          <button id="attachment-btn" class="ml-2 rounded-full hover:bg-zinc-700 transition-colors relative flex items-center justify-center w-10 h-10" title="Anexar">
              <svg class="h-6 w-6 text-gray-300/80" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                  <path class="plus-path" stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15" />
                  <path class="plus-path" stroke-linecap="round" stroke-linejoin="round" d="M4.5 12h15" />
                  <path class="x-path" stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6" />
                  <path class="x-path" stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12" />
              </svg>
          </button>

          <div id="attachment-menu" class="absolute bottom-full left-0 mb-2 w-48 bg-zinc-800 rounded-lg shadow-lg p-2 origin-bottom-left transform scale-95 opacity-0 pointer-events-none shadow-md shadow-neutral-900">
           
            <label for="file-upload" class="flex items-center gap-3 p-2 rounded-md hover:bg-zinc-700 cursor-pointer text-gray-100/90">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.122 2.122l7.81-7.81" /></svg>
              <span>Anexar Documento</span>
            </label>

            <button id="take-photo-btn" class="w-full flex items-center gap-3 p-2 rounded-md hover:bg-zinc-700 text-gray-100/90">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.776 48.776 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z" /></svg>
              <span>Tirar Foto</span>
            </button>

          </div>

        </div>

        <input id="file-upload" type="file" class="hidden" accept="application/pdf,image/*,video/*,audio/*"/>
        
        <textarea
          id="message-input"
          placeholder="Digite sua mensagem..."
          rows="1"
          class="w-full bg-transparent p-4 pr-16 text-gray-100/90 placeholder-stone-400 focus:outline-none resize-none max-h-52"
        ></textarea>

        <button id="send-button" class="absolute right-4 top-1/2 -translate-y-1/2 p-2 rounded-full bg-zinc-700 text-white hover:bg-zinc-600 disabled:bg-zinc-500 disabled:cursor-not-allowed transition-colors">
          <svg id="send-button-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="#27272a" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18" />
          </svg>
        </button>

      </div>
    </div>
    <h3 class="text-[12px] absolute right-2 bottom-0">v0.6</h3>
  </footer>

      <script type="importmap">
        {
          "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai@latest"
          }
        }
      </script>

  <script type="module" src="script.js"></script> <!-- type="module" para quando for usar com a API da google, se não, remover-->
</body>

</html>


